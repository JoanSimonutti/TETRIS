<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Define el tipo de documento HTML5 -->
    <meta charset="UTF-8" />

    <!-- Título que se mostrará en la pestaña del navegador -->
    <title>Tetris-Javascript</title>

    <!-- Enlace al archivo CSS externo para aplicar estilos visuales -->
    <link rel="stylesheet" href="style/style.css" />

    <!-- Inclusión de la librería p5.js desde CDN (usada para gráficos y animación) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
  </head>

  <body>
    <header class="navbar">
      <p>
        TETRIS | Joan Simonutti |
        <a href="https://github.com/joansimonutti" target="_blank">GitHub</a>
        |
        <a href="https://www.linkedin.com/in/joansimonutti" target="_blank"
          >LinkedIn</a
        >
        | <span id="fecha-navbar"></span>
      </p>
    </header>

    <!-- Carga del código JavaScript en módulos ES6 -->
    <!-- El orden importa si hay dependencias: main.js se debe cargar último -->

    <!-- Board: contiene la clase para el tablero del juego -->
    <script type="module" src="src/board.js"></script>

    <!-- Piece: contiene la clase que define el comportamiento de los tetriminos -->
    <script type="module" src="src/piece.js"></script>

    <!-- Main: el archivo que inicializa y ejecuta todo el juego -->
    <script type="module" src="src/main.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const fecha = new Date();
        const opciones = { day: "2-digit", month: "long", year: "numeric" };
        const formato = fecha.toLocaleDateString("es-ES", opciones);

        const f1 = document.getElementById("fecha-navbar");
        const f2 = document.getElementById("fecha-footer");

        if (f1) f1.textContent = formato;
        if (f2) f2.textContent = formato;
      });
    </script>
  </body>
</html>

<!-- ¿Qué estás aprendiendo acá?
- Que los archivos type="module" permiten usar import y export, pero no comparten el contexto global como en scripts clásicos.
- Que el orden de los <script> no siempre importa con módulos si no hay ejecución inmediata, pero por buena práctica se pone main.js al final (porque es el punto de entrada).
- Que p5.js debe cargarse antes de cualquier script que use funciones como createCanvas, draw, setup, etc. -->
